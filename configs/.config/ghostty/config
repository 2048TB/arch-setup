# Ghostty 终端配置 - Catppuccin Mocha 主题
# 配置位置: ~/.config/ghostty/config
# 优化高分屏 2560x1440 @ 125% 显示

# ===== 字体设置 =====
font-family = JetBrains Mono
font-family = Noto Color Emoji
font-family = Symbols Nerd Font
font-size = 13.0

# 连字功能（代码美化）
font-feature = calt clig liga

# 光标处断开连字（编辑体验优化）
font-shaping-break = cursor

# 字体渲染优化
freetype-load-flags = no-hinting
alpha-blending = linear-corrected

# 行高调整（增加可读性）
adjust-cell-height = 30%

# Nerd Font 图标优化
adjust-icon-height = 110%

# Unicode 兼容性
grapheme-width-method = unicode

# ===== 窗口设置 =====
# 初始窗口大小（高分屏优化）
window-width = 130
window-height = 25

# 窗口内边距
window-padding-x = 12
window-padding-y = 12
window-padding-balance = true
window-padding-color = extend

# 窗口装饰
window-decoration = auto

# 透明度和毛玻璃效果
background-opacity = 1.00
background-blur-radius = 20
background-opacity-cells = true

# 窗口主题（与 Catppuccin 一致）
window-theme = auto

# ===== 颜色主题 - Catppuccin Mocha =====
theme = Catppuccin Mocha

# 背景和前景
background = #1e1e2e
foreground = #cdd6f4

# 选择高亮（蓝色）
selection-foreground = #1e1e2e
selection-background = #89b4fa

# 光标样式（蓝色脉动）
cursor-color = #89b4fa
cursor-text = #1e1e2e

# 分割线（灰色）
split-divider-color = #6c7086

# 非活跃面板（暗淡效果）
unfocused-split-opacity = 0.7
unfocused-split-fill = #11111b

# 对比度增强
minimum-contrast = 1.2

# ===== 光标设置 =====
cursor-style = bar
cursor-style-blink = true
cursor-opacity = 1.0
cursor-click-to-move = true

# ===== 标签页管理 =====
window-new-tab-position = current
window-inherit-working-directory = true
window-inherit-font-size = true

# ===== 鼠标行为 =====
mouse-hide-while-typing = true
mouse-scroll-multiplier = 3
click-repeat-interval = 500
right-click-action = copy-or-paste
focus-follows-mouse = false

# 选择和复制
copy-on-select = clipboard
selection-clear-on-typing = true

# ===== 剪贴板 =====
clipboard-read = allow
clipboard-write = allow
clipboard-trim-trailing-spaces = true
clipboard-paste-protection = true
clipboard-paste-bracketed-safe = true

# ===== 滚动设置 =====
scrollback-limit = 100000
scroll-to-bottom = keystroke,output

# ===== 超链接 =====
link-url = true
link-previews = true

# ===== Shell 整合 =====
shell-integration = detect
shell-integration-features = cursor,sudo,title,ssh-env,ssh-terminfo

# 工作目录
working-directory = inherit
initial-window = true

# ===== 性能优化 =====
# GPU 加速和色彩空间
window-vsync = true
window-colorspace = display-p3

# 图像存储（高内存系统）
image-storage-limit = 200000000

# ===== 快捷键绑定 =====

# --- 复制和粘贴 ---
keybind = performable:ctrl+c=copy_to_clipboard
keybind = performable:ctrl+v=paste_from_clipboard
keybind = ctrl+shift+c=copy_to_clipboard
keybind = ctrl+shift+v=paste_from_clipboard
keybind = alt+c=copy_to_clipboard
keybind = alt+v=paste_from_clipboard
keybind = ctrl+shift+a=select_all

# --- 屏幕清理 ---
keybind = ctrl+shift+k=clear_screen
keybind = ctrl+l=clear_screen

# --- 标签页管理 ---
keybind = ctrl+t=new_tab
keybind = ctrl+shift+t=new_tab
keybind = ctrl+w=close_surface
keybind = ctrl+shift+w=close_tab:this
keybind = ctrl+tab=next_tab
keybind = ctrl+shift+tab=previous_tab

# --- 窗口管理 ---
keybind = ctrl+n=new_window
keybind = ctrl+shift+n=new_window
keybind = f11=toggle_fullscreen

# --- 字体大小 ---
keybind = ctrl+equal=increase_font_size:1
keybind = ctrl+plus=increase_font_size:1
keybind = ctrl+minus=decrease_font_size:1
keybind = ctrl+0=reset_font_size

# --- 滚动操作 ---
keybind = shift+page_up=scroll_page_up
keybind = shift+page_down=scroll_page_down
keybind = shift+up=scroll_page_lines:-1
keybind = shift+down=scroll_page_lines:1
keybind = shift+home=scroll_to_top
keybind = shift+end=scroll_to_bottom

# --- 面板分割（Tmux 风格）---
keybind = ctrl+a>v=new_split:right
keybind = ctrl+a>s=new_split:down
keybind = ctrl+a>x=close_surface
keybind = ctrl+a>z=toggle_split_zoom

# 面板导航（Vim 风格）
keybind = ctrl+a>h=goto_split:left
keybind = ctrl+a>j=goto_split:bottom
keybind = ctrl+a>k=goto_split:top
keybind = ctrl+a>l=goto_split:right

# 面板导航（Alt 快捷键）
keybind = alt+h=goto_split:left
keybind = alt+j=goto_split:bottom
keybind = alt+k=goto_split:top
keybind = alt+l=goto_split:right

# 面板大小调整
keybind = ctrl+left=resize_split:left,10
keybind = ctrl+right=resize_split:right,10
keybind = ctrl+up=resize_split:up,5
keybind = ctrl+down=resize_split:down,5

# --- 配置和调试 ---
keybind = ctrl+shift+comma=reload_config
keybind = ctrl+a>r=reload_config
keybind = ctrl+a>i=inspector:toggle

# --- Shell 整合（提示符跳转）---
keybind = ctrl+shift+up=jump_to_prompt:-1
keybind = ctrl+shift+down=jump_to_prompt:1

# --- 标签页切换 ---
keybind = ctrl+1=goto_tab:1
keybind = ctrl+2=goto_tab:2
keybind = ctrl+3=goto_tab:3
keybind = ctrl+4=goto_tab:4
keybind = ctrl+5=goto_tab:5
keybind = ctrl+6=goto_tab:6
keybind = ctrl+7=goto_tab:7
keybind = ctrl+8=goto_tab:8
keybind = ctrl+9=goto_tab:9

# Alt 备选方案
keybind = alt+1=goto_tab:1
keybind = alt+2=goto_tab:2
keybind = alt+3=goto_tab:3
keybind = alt+4=goto_tab:4
keybind = alt+5=goto_tab:5
keybind = alt+6=goto_tab:6
keybind = alt+7=goto_tab:7
keybind = alt+8=goto_tab:8
keybind = alt+9=goto_tab:9

# ===== 环境变量 =====
env = COLORTERM=truecolor

# ===== 其他设置 =====
confirm-close-surface = false
quit-after-last-window-closed = true
abnormal-command-exit-runtime = 1000
wait-after-command = false

# 标题栏字体
window-title-font-family = JetBrains Mono

keybind = shift+enter=text:\x1b\r
